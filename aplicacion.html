<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mapa Interactivo - Ajolotic’s</title>
    <!-- Hoja de estilos -->
    <link rel="stylesheet" href="C:\Users\lalon\Desktop\Proyecto\Admin\Css/styles.css">
    <!-- CSS de Leaflet -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
</head>
<body>
    <div class="app-container">
        <aside class="sidebar">
            <h2>Ajolotic’s</h2>
            <nav>
                <ul>
                    <li><a href="#">Ver Rutas</a></li>
                    <li><a href="#" id="open-monitoring">Monitoreo</a></li> <!-- Botón para Monitoreo -->
                    <li><a href="#" id="open-settings">Ajustes</a></li> <!-- Botón de Ajustes -->
                    <li><a href="Inicio.html">Cerrar Sesión</a></li>
                </ul>
            </nav>
        </aside>

        <div class="map-container">
            <iframe 
                src="https://www.google.com/maps?q=19.231143,-98.995047&hl=es;z=14&output=embed" 
                width="1100" 
                height="570" 
                style="border:0;" 
                allowfullscreen="" 
                loading="lazy">
            </iframe>

            <div class="map-link">
                <a href="https://maps.app.goo.gl/DrpTYZ2rudd8smiGA" 
                   target="_blank" 
                   rel="noopener noreferrer" 
                   class="map-button">
                    Ver ubicación en Google Maps
                </a>
            </div>
        </div>
    </div>

    <!-- Ventana emergente para Ajustes -->
    <div id="settings-popup" class="popup hidden">
        <div class="popup-content">
            <span id="close-settings" class="close">&times;</span>
            <h2>Ajustes de Cuenta</h2>

            <form id="settings-form">
                <label for="username">Nombre:</label>
                <input type="text" id="username" name="username" value="Juan Pérez" required>

                <label for="address">Dirección:</label>
                <input type="text" id="address" name="address" value="Calle Ficticia 123" required>

                <label for="email">Correo Electrónico:</label>
                <input type="email" id="email" name="email" value="juan.perez@ajolotics.com" required>

                <label for="password">Contraseña:</label>
                <input type="password" id="password" name="password" placeholder="Nueva contraseña" required>

                <button type="submit">Guardar Cambios</button>
            </form>

            <button id="delete-account" class="delete-button">Dar de Baja</button>
        </div>
    </div>

    <!-- Ventana emergente para Monitoreo -->
    <div id="monitoring-popup" class="popup hidden">
        <div class="popup-content">
            <span id="close-monitoring" class="close">&times;</span>
            <h2>Monitoreo en Tiempo Real</h2>
            <p>Ajolotic’s proporciona un sistema de monitoreo avanzado que permite hacer un seguimiento en tiempo real de todos los vehículos y el tráfico en la ciudad.</p>
            <p><strong>Características del Sistema de Monitoreo:</strong></p>
            <ul>
                <li>Seguimiento en tiempo real de las rutas de los vehículos.</li>
                <li>Monitoreo de la ubicación exacta de los vehículos mediante GPS.</li>
                <li>Alertas en caso de desvíos o imprevistos en el trayecto.</li>
                <li>Visualización de la congestión del tráfico y optimización de rutas.</li>
            </ul>
            <p>Con nuestro sistema, garantizamos una experiencia de transporte segura y eficiente.</p>
        </div>
    </div>

    <!-- JS de Leaflet -->
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <!-- JS para manejar la ventana emergente -->
    <script>
        // Obtener los botones y las ventanas emergentes
        const openSettingsBtn = document.getElementById('open-settings');
        const settingsPopup = document.getElementById('settings-popup');
        const closeSettingsBtn = document.getElementById('close-settings');
        const deleteAccountBtn = document.getElementById('delete-account');

        const openMonitoringBtn = document.getElementById('open-monitoring');  // Botón para abrir Monitoreo
        const monitoringPopup = document.getElementById('monitoring-popup');
        const closeMonitoringBtn = document.getElementById('close-monitoring');

        // Abrir ventana emergente de Ajustes
        openSettingsBtn.addEventListener('click', () => {
            settingsPopup.style.display = 'block';
        });

        // Cerrar ventana emergente de Ajustes
        closeSettingsBtn.addEventListener('click', () => {
            settingsPopup.style.display = 'none';
        });

        // Función para dar de baja la cuenta
        deleteAccountBtn.addEventListener('click', () => {
            if (confirm("¿Estás seguro de que deseas eliminar tu cuenta? Esta acción es irreversible.")) {
                alert("Tu cuenta ha sido eliminada.");
                // Aquí iría el código para eliminar la cuenta (requiere backend)
            }
        });

        // Abrir ventana emergente de Monitoreo
        openMonitoringBtn.addEventListener('click', (e) => {
            e.preventDefault();
            monitoringPopup.style.display = 'block';  // Mostrar ventana de Monitoreo
        });

        // Cerrar ventana emergente de Monitoreo
        closeMonitoringBtn.addEventListener('click', () => {
            monitoringPopup.style.display = 'none';  // Cerrar ventana de Monitoreo
        });

        // Cerrar la ventana emergente si el usuario hace clic fuera de la ventana emergente
        window.addEventListener('click', (event) => {
            if (event.target === settingsPopup) {
                settingsPopup.style.display = 'none';
            }
            if (event.target === monitoringPopup) {
                monitoringPopup.style.display = 'none';
            }
        });
    </script>
</body>
</html>
